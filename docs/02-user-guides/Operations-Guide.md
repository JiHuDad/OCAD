# OCAD 운영 가이드

## 📋 목차
1. [시스템 개요](#1-시스템-개요)
2. [알람 이해하기](#2-알람-이해하기)
3. [사람 친화적 보고서 읽는 법](#3-사람-친화적-보고서-읽는-법)
4. [로그 시스템 활용](#4-로그-시스템-활용)
5. [문제 해결 프로세스](#5-문제-해결-프로세스)
6. [일반적인 장애 상황과 대응](#6-일반적인-장애-상황과-대응)

## 1. 시스템 개요

OCAD(O-RAN CFM-Lite AI 이상탐지)는 O-RAN 네트워크에서 발생하는 성능 이상을 자동으로 탐지하고 분석하는 시스템입니다.

### 1.1 주요 기능
- **실시간 이상 탐지**: 네트워크 성능 저하를 조기에 발견
- **사람 친화적 분석**: 기술적 배경 없이도 이해할 수 있는 알람 설명
- **구체적 조치사항**: 실행 가능한 문제 해결 방법 제시
- **지속 모니터링 가이드**: 향후 관찰해야 할 지표 안내

### 1.2 모니터링 대상
- **O-RU (Radio Unit)**: 무선 접속 장비
- **O-DU (Distributed Unit)**: 기지국 처리 장비  
- **Transport**: 전송 구간 장비

## 2. 알람 이해하기

### 2.1 심각도 분류
- 🔴 **CRITICAL**: 즉시 대응 필요, 서비스에 심각한 영향
- 🟡 **WARNING**: 주의 깊은 모니터링 필요, 지속 시 문제 가능성
- 🔵 **INFO**: 참고용 정보, 즉시 조치 불필요

### 2.2 알람 발생 기준
OCAD는 다음 4가지 방법으로 이상을 탐지합니다:

#### 2.2.1 룰 기반 탐지 (즉시 탐지)
- **UDP Echo 응답시간** > 임계값 (기본: 5ms)
- **LBM 루프백 지연** > 임계값 (기본: 5ms)
- **eCPRI 지연** > 임계값 (기본: 5ms)
- **연속 실패** > 임계값 (기본: 3회)

#### 2.2.2 변화점 탐지 (급격한 변화)
- CUSUM 알고리즘으로 성능의 급격한 변화 감지
- 평상시 대비 갑작스러운 성능 저하 포착

#### 2.2.3 패턴 변화 탐지 (드리프트)
- 점진적인 성능 저하 감지
- 하드웨어 열화나 설정 변경으로 인한 장기적 변화

#### 2.2.4 다변량 탐지 (복합 문제)
- 여러 지표의 복합적 이상 패턴 감지
- 단일 지표로는 포착하기 어려운 복잡한 문제

## 3. 사람 친화적 보고서 읽는 법

### 3.1 보고서 구조
```
================================================================================
🚨 OCAD 이상탐지 알람 분석 보고서
================================================================================

📍 기본 정보
----------------------------------------
• 엔드포인트: sim-o-ru-001
• 탐지 시간: 2025년 09월 30일 14시 25분 30초
• 심각도: 🟡 경고 - 주의 깊은 모니터링 필요
• 종합 위험도: 41.6% (1.0 = 100% 위험)

⚠️ 발견된 문제
----------------------------------------
• UDP Echo 응답시간이 느림 (24.7ms, 정상: 5ms 이하)
• LBM 루프백 성능이 급격히 변화함 (CUSUM 이상 탐지)

🔍 상세 기술 분석
----------------------------------------
  📈 성능 지표 분석:
     UDP Echo - P95: 18.3ms, P99: 24.7ms
     LBM RTT - P95: 6.1ms, P99: 8.9ms
  
  📊 변화점 탐지 (CUSUM) 분석:
     UDP Echo 변화량: 6.45
     eCPRI 변화량: 4.12
     LBM 변화량: 3.87

📊 영향도 분석
----------------------------------------
• 🟡 서비스 품질에 영향을 미칠 수 있음
• 지속될 경우 사용자 불만이 증가할 수 있음
• O-RU 장비 문제로 무선 접속에 영향 가능

💡 권장 조치사항
----------------------------------------
1. 네트워크 연결 상태 및 대역폭 확인
2. CFM(Connectivity Fault Management) 설정 확인
3. O-RU 하드웨어 상태 점검
4. 15분 후 상태 재확인

👀 지속 모니터링 포인트
----------------------------------------
• UDP Echo 응답시간이 5ms 이하로 회복되는지 확인
• LBM 루프백 지연이 정상 범위로 돌아오는지 관찰
• 향후 30분간 동일한 패턴의 이상이 재발하는지 모니터링
```

### 3.2 읽는 순서
1. **기본 정보**: 언제, 어디서, 얼마나 심각한지 파악
2. **발견된 문제**: 무엇이 잘못되었는지 간단히 이해
3. **영향도 분석**: 서비스에 미치는 영향 정도 파악
4. **권장 조치사항**: 구체적으로 무엇을 해야 하는지 확인
5. **지속 모니터링**: 앞으로 무엇을 계속 관찰해야 하는지 확인

## 4. 로그 시스템 활용

### 4.1 로그 구조
```
logs/test_YYYYMMDD_HHMMSS/
├── debug/detailed.log              # 🔍 상세 디버그 로그
├── summary/summary.log             # 📋 주요 이벤트 로그
└── alerts/
    ├── alert_details.log           # 🚨 기술적 알람 정보
    └── human_readable_analysis.txt # 📖 사람 친화적 분석
```

### 4.2 로그 활용법

#### 4.2.1 일반 운영자용
- **`alerts/human_readable_analysis.txt`**: 알람 발생 시 가장 먼저 확인
- **`summary/summary.log`**: 시스템 전반적 상황 파악

#### 4.2.2 기술 담당자용
- **`debug/detailed.log`**: 상세한 기술적 분석 필요 시
- **`alerts/alert_details.log`**: 알람의 기술적 세부사항

### 4.3 로그 보관 및 관리
- 로그는 자동으로 타임스탬프별 폴더에 저장
- 중요한 알람은 별도 백업 권장
- 정기적인 로그 정리로 디스크 공간 관리

## 5. 문제 해결 프로세스

### 5.1 알람 접수 시 기본 절차
1. **보고서 확인**: `human_readable_analysis.txt` 파일 열기
2. **심각도 판단**: CRITICAL/WARNING/INFO 구분
3. **영향도 파악**: 서비스에 미치는 영향 정도 확인
4. **조치사항 실행**: 권장 조치사항 순서대로 실행
5. **모니터링 계속**: 지속 모니터링 포인트 관찰
6. **결과 기록**: 조치 결과와 효과 문서화

### 5.2 심각도별 대응 시간
- **CRITICAL**: 즉시 (15분 이내)
- **WARNING**: 1시간 이내
- **INFO**: 정기 점검 시

### 5.3 에스컬레이션 기준
다음 상황에서는 상급자 또는 기술팀에 에스컬레이션:
- CRITICAL 알람이 30분 이상 지속
- WARNING 알람이 2시간 이상 지속
- 동일한 문제가 반복 발생 (하루 3회 이상)
- 권장 조치사항으로 해결되지 않는 경우

## 6. 일반적인 장애 상황과 대응

### 6.1 네트워크 지연 증가
**증상**: UDP Echo, LBM RTT 응답시간 증가

**일반적 원인**:
- 네트워크 혼잡
- 라우팅 경로 문제
- 장비 과부하

**대응 방법**:
1. 네트워크 연결 상태 확인
2. 대역폭 사용률 점검
3. 라우팅 테이블 확인
4. 중간 홉 장비 상태 점검

### 6.2 급격한 성능 변화 (CUSUM 알람)
**증상**: 평상시 대비 갑작스러운 성능 변화

**일반적 원인**:
- 설정 변경
- 트래픽 패턴 변화
- 하드웨어 문제

**대응 방법**:
1. 최근 설정 변경사항 검토
2. 트래픽 패턴 분석
3. 하드웨어 상태 점검
4. 로그에서 이상 시점 전후 이벤트 확인

### 6.3 O-RU 관련 문제
**증상**: O-RU 장비에서 발생하는 알람

**O-RU 특화 점검사항**:
1. 무선 인터페이스 설정 확인
2. RF 파워 레벨 점검
3. 안테나 연결 상태 확인
4. 환경 온도 점검

### 6.4 O-DU 관련 문제
**증상**: O-DU 장비에서 발생하는 알람

**O-DU 특화 점검사항**:
1. CPU 사용률 확인
2. 메모리 사용량 점검
3. 베어러 설정 검토
4. QoS 정책 확인

### 6.5 Transport 관련 문제
**증상**: 전송 구간에서 발생하는 알람

**Transport 특화 점검사항**:
1. 이더넷 링크 상태 점검
2. 광 케이블 연결 확인
3. 스위치 포트 상태 검토
4. VLAN 설정 확인

## 7. 연락처 및 에스컬레이션

### 7.1 문제 해결 시 연락처
- **네트워크팀**: 네트워크 연결/라우팅 문제
- **무선팀**: O-RU 관련 문제
- **시스템팀**: O-DU 관련 문제
- **인프라팀**: Transport 관련 문제

### 7.2 OCAD 시스템 관련 문의
- **시스템 장애**: IT 헬프데스크
- **알람 오탐**: OCAD 관리자
- **기능 문의**: 시스템 운영팀

---

이 가이드는 OCAD 시스템의 일반적인 운영 방법을 다룹니다. 
특수한 상황이나 추가 문의사항은 시스템 관리자에게 연락하시기 바랍니다.
