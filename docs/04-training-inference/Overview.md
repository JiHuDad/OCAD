# í•™ìŠµ ë° ì¶”ë¡  ê°œìš”

**ëª©ì **: OCADì˜ í•™ìŠµ-ì¶”ë¡  ë¶„ë¦¬ ì•„í‚¤í…ì²˜ì™€ ì „ì²´ ì›Œí¬í”Œë¡œìš°ë¥¼ ì´í•´í•˜ê¸°

**ì½ëŠ” ì‹œê°„**: 5-10ë¶„

---

## ğŸ¯ í•µì‹¬ ê°œë…

### í•™ìŠµ-ì¶”ë¡  ë¶„ë¦¬ ì•„í‚¤í…ì²˜

OCADëŠ” **ì˜¨ë¼ì¸ í•™ìŠµ**ì—ì„œ **ì˜¤í”„ë¼ì¸ í•™ìŠµ + ì˜¨ë¼ì¸ ì¶”ë¡ **ìœ¼ë¡œ ì „í™˜ë˜ì—ˆìŠµë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ì „í†µì  ì˜¨ë¼ì¸ í•™ìŠµ (AS-IS)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ë°ì´í„° ìˆ˜ì§‘ â†’ [í•™ìŠµ + ì¶”ë¡ ] â†’ ì•ŒëŒ          â”‚
â”‚  - ì¥ì : ìë™í™”                              â”‚
â”‚  - ë‹¨ì : ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ì§€ì—°, ì¬í˜„ ë¶ˆê°€       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â†“ ë³€ê²½

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        í•™ìŠµ-ì¶”ë¡  ë¶„ë¦¬ ì•„í‚¤í…ì²˜ (TO-BE)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“š í•™ìŠµ (Offline):                         â”‚
â”‚     ì •ìƒ ë°ì´í„° â†’ ëª¨ë¸ í•™ìŠµ â†’ ëª¨ë¸ ì €ì¥      â”‚
â”‚                                             â”‚
â”‚  ğŸ” ì¶”ë¡  (Online):                          â”‚
â”‚     ë°ì´í„° ìˆ˜ì§‘ â†’ [ëª¨ë¸ ë¡œë“œ] â†’ ì¶”ë¡  â†’ ì•ŒëŒ  â”‚
â”‚  - ì¥ì : ì¼ê´€ëœ ì§€ì—°, ì¬í˜„ ê°€ëŠ¥, ë²„ì „ ê´€ë¦¬   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“š í•™ìŠµ (Training)

### ì™œ ì •ìƒ ë°ì´í„°ë§Œ ì‚¬ìš©í•˜ë‚˜ìš”?

OCADëŠ” **ì´ìƒ íƒì§€(Anomaly Detection)** ì‹œìŠ¤í…œì…ë‹ˆë‹¤:

- **ì •ìƒ ìƒíƒœ**ë¥¼ í•™ìŠµí•˜ì—¬ íŒ¨í„´ ì´í•´
- **ì •ìƒì—ì„œ ë²—ì–´ë‚œ ê²ƒ**ì„ ì´ìƒìœ¼ë¡œ íƒì§€
- ì´ìƒ ë°ì´í„°ëŠ” ì¢…ë¥˜ê°€ ë¬´í•œí•˜ë¯€ë¡œ ì •ìƒë§Œ í•™ìŠµ

```python
# ì´ìƒ íƒì§€ì˜ ì›ë¦¬
í•™ìŠµ ë°ì´í„°: [ì •ìƒ, ì •ìƒ, ì •ìƒ, ...] â†’ ëª¨ë¸
ì¶”ë¡  ë°ì´í„°: [ì •ìƒ, ì •ìƒ, ì´ìƒ!, ì •ìƒ, ì´ìƒ!]
             â†“
ê²°ê³¼:       [OK,   OK,   âš ï¸,   OK,   âš ï¸ ]
```

### í•™ìŠµ ë°ì´í„° ì¤€ë¹„

```bash
# 1. í•™ìŠµ ë°ì´í„° ìƒì„± (ì •ìƒ ë°ì´í„° 28,800ê°œ)
python scripts/generate_training_inference_data.py --mode training

# ìƒì„± íŒŒì¼: data/training_normal_only.csv
# - 8ê°œ ì—”ë“œí¬ì¸íŠ¸
# - 1ì‹œê°„ Ã— 60ì´ˆ ê°„ê²© = 3,600ê°œ/ì—”ë“œí¬ì¸íŠ¸
# - ì´ 28,800ê°œ ë ˆì½”ë“œ
```

**í•™ìŠµ ë°ì´í„° íŠ¹ì§•**:
- UDP Echo RTT: 5.0 Â± 0.3 ms
- eCPRI delay: 100.0 Â± 5.0 Âµs
- LBM RTT: 7.0 Â± 0.4 ms
- ë¼ë²¨: ëª¨ë‘ "normal"

### ëª¨ë¸ í•™ìŠµ

```bash
# 2. ëª¨ë¸ í•™ìŠµ
python scripts/train_model.py \
    --data-source data/training_normal_only.csv \
    --epochs 50 \
    --batch-size 32
```

**í•™ìŠµë˜ëŠ” ëª¨ë¸**:
1. **TCN (Temporal Convolutional Network)** - ì‹œê³„ì—´ ì˜ˆì¸¡
2. **Isolation Forest** - ë‹¤ë³€ëŸ‰ ì´ìƒ íƒì§€
3. **CUSUM** - ë³€í™”ì  íƒì§€ (í†µê³„ ê¸°ë°˜, í•™ìŠµ ë¶ˆí•„ìš”)

**ì¶œë ¥**:
- `ocad/models/tcn/udp_echo_v1.0.0.pth`
- `ocad/models/tcn/ecpri_delay_v1.0.0.pth`
- `ocad/models/isolation_forest/multivariate_v1.0.0.pkl`

**ìƒì„¸ ê°€ì´ë“œ**: [Training-Guide.md](Training-Guide.md)

---

## ğŸ” ì¶”ë¡  (Inference)

### ì¶”ë¡  ë°ì´í„° ì¤€ë¹„

```bash
# 1. ì¶”ë¡  í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„± (6ê°€ì§€ ì‹œë‚˜ë¦¬ì˜¤)
python scripts/generate_training_inference_data.py --mode inference

# ìƒì„± íŒŒì¼: data/inference_test_scenarios.csv
# - ì •ìƒ: 478ê°œ (61.3%)
# - ì´ìƒ: 302ê°œ (38.7%)
```

**6ê°€ì§€ ì‹œë‚˜ë¦¬ì˜¤**:
1. **Normal** - ì •ìƒ ìš´ì˜
2. **Drift** - ì ì§„ì  ì¦ê°€ (30ë¶„)
3. **Spike** - ê¸‰ê²©í•œ ì¼ì‹œì  ì¦ê°€
4. **Jitter** - ë¶ˆê·œì¹™ ë³€ë™
5. **Multi-metric Failure** - ë‹¤ì¤‘ ë©”íŠ¸ë¦­ ì¥ì• 
6. **Recovery** - ì´ìƒ â†’ ì •ìƒ ë³µêµ¬

### ì¶”ë¡  ì‹¤í–‰

```bash
# 2. ì¶”ë¡  ì‹¤í–‰
python scripts/run_inference.py \
    --data-source data/inference_test_scenarios.csv \
    --output data/inference_results.csv

# ê²°ê³¼:
# - ì •í™•ë„: 88.85%
# - True Positive: 215ê°œ (ì´ìƒ ì •í™•íˆ íƒì§€)
# - False Negative: 87ê°œ (ì´ìƒ ë¯¸íƒì§€)
# - False Positive: 0ê°œ (ì •ìƒì„ ì´ìƒìœ¼ë¡œ ì˜¤íŒ ì—†ìŒ)
```

### ê²°ê³¼ ë¶„ì„

```bash
# 3. ê²°ê³¼ í™•ì¸
head -20 data/inference_results.csv

# Pythonìœ¼ë¡œ ë¶„ì„
python3 -c "
import pandas as pd
df = pd.read_csv('data/inference_results.csv')
print(df['predicted_label'].value_counts())
print(f'Accuracy: {(df[\"label\"] == df[\"predicted_label\"]).mean() * 100:.2f}%')
"
```

**ìƒì„¸ ê°€ì´ë“œ**: [Inference-Guide.md](Inference-Guide.md)

---

## ğŸ”„ ì „ì²´ ì›Œí¬í”Œë¡œìš°

### ìµœì´ˆ 1íšŒ: ëª¨ë¸ í•™ìŠµ

```bash
# Step 1: ì •ìƒ ë°ì´í„° ìˆ˜ì§‘ (ì‹¤ì œ í™˜ê²½)
# - í”„ë¡œí† ì½œ ë‹´ë‹¹ìê°€ ë„¤íŠ¸ì›Œí¬ ì¥ë¹„ì—ì„œ ìˆ˜ì§‘
# - ë˜ëŠ” scripts/generate_training_inference_data.pyë¡œ ìƒì„±

# Step 2: ëª¨ë¸ í•™ìŠµ
python scripts/train_model.py \
    --data-source data/training_normal_only.csv \
    --epochs 50

# Step 3: ëª¨ë¸ ê²€ì¦
python scripts/run_inference.py \
    --data-source data/inference_test_scenarios.csv
```

### ìš´ì˜: ì‹¤ì‹œê°„ ì¶”ë¡ 

```bash
# Option 1: íŒŒì¼ ê¸°ë°˜
python scripts/run_inference.py \
    --data-source data/live_metrics.csv

# Option 2: ìŠ¤íŠ¸ë¦¬ë° (í–¥í›„)
python scripts/run_inference.py \
    --streaming \
    --kafka-broker localhost:9092 \
    --kafka-topic oran-metrics
```

---

## ğŸ“Š ë°ì´í„° ì†ŒìŠ¤ ì„ íƒ

### í˜„ì¬ ì§€ì›: íŒŒì¼ ê¸°ë°˜

```bash
# CSV íŒŒì¼
python scripts/run_inference.py --data-source data/metrics.csv

# Excel íŒŒì¼
python scripts/run_inference.py --data-source data/metrics.xlsx

# Parquet íŒŒì¼ (ëŒ€ìš©ëŸ‰)
python scripts/run_inference.py --data-source data/metrics.parquet
```

### í–¥í›„ ì§€ì›: ìŠ¤íŠ¸ë¦¬ë°

```bash
# Kafka
python scripts/run_inference.py \
    --streaming \
    --kafka-broker localhost:9092 \
    --kafka-topic oran-metrics

# WebSocket
python scripts/run_inference.py \
    --streaming \
    --websocket-url ws://oran-server:8080/metrics
```

**ìƒì„¸ ê°€ì´ë“œ**: [Data-Source-Guide.md](../03-data-management/Data-Source-Guide.md)

---

## ğŸ¨ íƒì§€ ì•Œê³ ë¦¬ì¦˜

OCADëŠ” 4ê°€ì§€ íƒì§€ ì•Œê³ ë¦¬ì¦˜ì„ ê²°í•©í•©ë‹ˆë‹¤:

### 1. ë£° ê¸°ë°˜ íƒì§€ (Rule-Based)
```python
if udp_echo_rtt > 10ms:
    score = 1.0  # ì´ìƒ
```
- ê°„ë‹¨í•˜ê³  ë¹ ë¦„
- ì„ê³„ê°’ ê¸°ë°˜
- í˜„ì¬ ì¶”ë¡  ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì‚¬ìš© ì¤‘

### 2. ë³€í™”ì  íƒì§€ (Changepoint)
```python
CUSUM ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì ì§„ì  ë³€í™” íƒì§€
```
- Drift(ì ì§„ì  ì¦ê°€) íƒì§€
- í†µê³„ ê¸°ë°˜

### 3. ì”ì°¨ íƒì§€ (Residual)
```python
ì˜ˆì¸¡ê°’: 5.0ms
ì‹¤ì œê°’: 15.0ms
ì”ì°¨: 10.0ms â†’ ì´ìƒ!
```
- TCN/LSTM ëª¨ë¸ ì‚¬ìš©
- ì‹œê³„ì—´ íŒ¨í„´ í•™ìŠµ
- í–¥í›„ í†µí•© ì˜ˆì •

### 4. ë‹¤ë³€ëŸ‰ íƒì§€ (Multivariate)
```python
[UDP, eCPRI, LBM] ë™ì‹œ ê³ ë ¤
```
- Isolation Forest ì‚¬ìš©
- ì—¬ëŸ¬ ë©”íŠ¸ë¦­ ê°„ ìƒê´€ê´€ê³„
- í–¥í›„ í†µí•© ì˜ˆì •

**ì¢…í•© ì ìˆ˜**:
```python
composite_score = (
    0.3 Ã— rule_score +
    0.4 Ã— changepoint_score +
    0.2 Ã— residual_score +
    0.1 Ã— multivariate_score
)
```

**ìƒì„¸ ì„¤ëª…**: [Model-Architecture.md](Model-Architecture.md)

---

## ğŸ”§ ì„±ëŠ¥ íŠœë‹

### ì„ê³„ê°’ ì¡°ì •

```bash
# ê¸°ë³¸ ì„ê³„ê°’ (ë³´ìˆ˜ì )
python scripts/run_inference.py \
    --data-source data/metrics.csv \
    --threshold 0.5  # ì¢…í•© ì ìˆ˜ ì„ê³„ê°’

# ë¯¼ê°í•˜ê²Œ (ë” ë§ì´ íƒì§€)
python scripts/run_inference.py \
    --data-source data/metrics.csv \
    --threshold 0.3 \
    --rule-threshold 8.0

# ë³´ìˆ˜ì ìœ¼ë¡œ (ì˜¤íƒ ìµœì†Œí™”)
python scripts/run_inference.py \
    --data-source data/metrics.csv \
    --threshold 0.7 \
    --rule-threshold 15.0
```

### False Negative ì¤„ì´ê¸°

í˜„ì¬ ì •í™•ë„ 88.85%ì—ì„œ False Negative 87ê°œ ë°œìƒ:

**ì›ì¸**:
- Drift ì´ˆê¸° ë‹¨ê³„ ë¯¸íƒì§€
- ì„ê³„ê°’ë³´ë‹¤ ë‚®ì€ ì´ìƒê°’

**í•´ê²°ì±…**:
1. ì„ê³„ê°’ ë‚®ì¶”ê¸°: `--threshold 0.3`
2. ë³€í™”ì  íƒì§€ê¸° ì¶”ê°€ (CUSUM)
3. ë” ë§ì€ í•™ìŠµ ë°ì´í„°

---

## ğŸ“š ë‹¤ìŒ ë‹¨ê³„

### ì‹ ê·œ ì‚¬ìš©ì
1. [í•™ìŠµ ê°€ì´ë“œ](Training-Guide.md) - ì‹¤ì œë¡œ ëª¨ë¸ í•™ìŠµí•´ë³´ê¸°
2. [ì¶”ë¡  ê°€ì´ë“œ](Inference-Guide.md) - ì¶”ë¡  ì‹¤í–‰ ë° ê²°ê³¼ ë¶„ì„
3. [ì „ì²´ ì›Œí¬í”Œë¡œìš°](../02-user-guides/Training-Inference-Workflow.md) - ìƒì„¸ ë‹¨ê³„ë³„ ì„¤ëª…

### ìš´ì˜ì
1. [Operations-Guide.md](../02-user-guides/Operations-Guide.md) - ì‹œìŠ¤í…œ ìš´ì˜
2. [Logging-Guide.md](../02-user-guides/Logging-Guide.md) - ë¡œê·¸ ë¶„ì„

### ê°œë°œì
1. [Training-Inference-Separation-Design.md](../05-architecture/Training-Inference-Separation-Design.md) - ì•„í‚¤í…ì²˜ ìƒì„¸ ì„¤ê³„
2. [Data-Source-Abstraction-Design.md](../05-architecture/Data-Source-Abstraction-Design.md) - ë°ì´í„° ì†ŒìŠ¤ ì¶”ìƒí™”

---

## â“ FAQ

### Q1: í•™ìŠµì€ ëª‡ ë²ˆ í•´ì•¼ í•˜ë‚˜ìš”?

**A**: ì¼ë°˜ì ìœ¼ë¡œ ìµœì´ˆ 1íšŒë§Œ í•˜ë©´ ë©ë‹ˆë‹¤. ë‹¤ë§Œ ë‹¤ìŒ ê²½ìš° ì¬í•™ìŠµ:
- ë„¤íŠ¸ì›Œí¬ ì¥ë¹„ ì¶”ê°€/ë³€ê²½
- ì •ìƒ íŒ¨í„´ ë³€í™” (ì˜ˆ: ë„¤íŠ¸ì›Œí¬ ì—…ê·¸ë ˆì´ë“œ)
- ì„±ëŠ¥ ê°œì„  í•„ìš”

### Q2: ì¶”ë¡ ì€ ì–¼ë§ˆë‚˜ ìì£¼ ì‹¤í–‰í•˜ë‚˜ìš”?

**A**:
- **íŒŒì¼ ê¸°ë°˜**: í•„ìš” ì‹œ ìˆ˜ë™ ì‹¤í–‰
- **ì‹¤ì‹œê°„**: 24/7 ì—°ì† ì‹¤í–‰ (í–¥í›„)

### Q3: ëª¨ë¸ í•™ìŠµ ì‹œê°„ì€?

**A**:
- TCN: ì•½ 5-10ë¶„ (28,800ê°œ ë ˆì½”ë“œ, 50 epochs)
- Isolation Forest: ì•½ 1-2ë¶„
- ì´ 10-15ë¶„

### Q4: ì •í™•ë„ë¥¼ ë†’ì´ë ¤ë©´?

**A**:
1. ë” ë§ì€ ì •ìƒ ë°ì´í„°ë¡œ í•™ìŠµ (í˜„ì¬ 28,800ê°œ â†’ ìˆ˜ì‹­ë§Œ ê°œ)
2. í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ (epochs, batch size)
3. ì—¬ëŸ¬ íƒì§€ê¸° ê²°í•© (í˜„ì¬ëŠ” ë£° ê¸°ë°˜ë§Œ ì‚¬ìš©)

### Q5: ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°ì€ ì–¸ì œ ì§€ì›ë˜ë‚˜ìš”?

**A**: CFM ë‹´ë‹¹ìì™€ í˜‘ì˜ í›„ Kafka/WebSocket êµ¬í˜„ ì˜ˆì •ì…ë‹ˆë‹¤.

---

**ì‘ì„±ì**: Claude Code
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-10-27
**ë²„ì „**: 1.0.0
